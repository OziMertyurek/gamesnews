(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2950,e=>{"use strict";var a=e.i(91398),s=e.i(72043),t=e.i(81117),l=e.i(3828),i=e.i(78166);e.s(["default",0,function({onChange:e,className:r,name:n,defaultLabel:d="All Storefronts",value:c="",addonList:o=[],hideAllStorefronts:u=!1}){let m=(0,l.useRouter)(),{currentUser:_}=(0,t.useCurrentUser)(),h=[];!1===u&&(h=i.getStorefrontList);let x=[];o.length>=1?(m.asPath.includes("/stats")||x.push((0,a.jsx)("option",{value:"Unlisted",children:"Unlisted"},"storefront_unlisted")),x.push((0,a.jsx)("optgroup",{label:`${m.asPath.startsWith(`/user/${_?.user_name}`)?"My":"User"} Storefronts`,children:o.map(e=>(0,a.jsx)("option",{value:e,children:e},`user_${e}`))},`${m.asPath.startsWith(`/user/${_?.user_name}`)?"My":"User"} Storefronts`))):_?.user_platforms?.storefront&&x.push((0,a.jsx)("optgroup",{label:"My Storefronts",children:_.user_platforms.storefront.map(e=>(0,a.jsx)("option",{value:e,children:e},`my_${e}`))},"My Storefronts"));let p=[],g=0;for(let e of h){let s=[];h[g][Object.keys(e)].forEach(e=>{s.push((0,a.jsx)("option",{value:e,children:e},e))}),g++,p.push((0,a.jsx)("optgroup",{label:Object.keys(e),children:s},Object.keys(e)))}return(0,a.jsxs)("select",{"aria-label":"Storefront",value:c,name:n,autoComplete:"off",className:(0,s.default)("form_select",r||"back_form"),onChange:e,children:[(0,a.jsx)("option",{value:"",children:d}),x,p]})}])},99106,e=>{"use strict";var a=e.i(91398),s=e.i(72043),t=e.i(81117),l=e.i(3828),i=e.i(78166);e.s(["default",0,function({onChange:e,className:r,name:n,defaultLabel:d="All Platforms",value:c="",addonList:o=[],hideAllPlatforms:u=!1,hideBonusPlatforms:m=!0,disabled:_=!1}){let h=(0,l.useRouter)(),{currentUser:x}=(0,t.useCurrentUser)(),p=!1===m?[].concat(i.getPlatformList,i.getPlatformListSpecial):i.getPlatformList,g=[];return o.length>=1&&(h.asPath.includes("/submit")&&"search_platform"!==n||"quickadd_platform"===n)?g.push((0,a.jsx)("optgroup",{label:"Recommended Platforms",children:o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))},"recommend_platforms")):o.length>=1&&h.asPath.includes("/user")&&"search_platform"!==n?(h.asPath.includes("/stats")||g.push((0,a.jsx)("option",{value:"Unlisted",children:"Unlisted"},"platform_unlisted")),g.push((0,a.jsx)("optgroup",{label:`${h.asPath.startsWith(`/user/${x?.user_name}`)?"My":"User"} Platforms`,children:o.map(e=>(0,a.jsx)("option",{value:e,children:e},`my_${e}`))},`${h.asPath.startsWith(`/user/${x?.user_name}`)?"My":"User"} Platforms`))):x?.user_platforms?.platform?g.push((0,a.jsx)("optgroup",{label:"My Platforms",children:x.user_platforms.platform.map(e=>(0,a.jsx)("option",{value:e,children:e},`my_${e}`))},"my_platforms")):g.push((0,a.jsxs)("optgroup",{label:"Popular Platforms",children:[(0,a.jsx)("option",{value:"Emulated",children:"Emulated"}),(0,a.jsx)("option",{value:"Nintendo 3DS",children:"Nintendo 3DS"}),(0,a.jsx)("option",{value:"Nintendo Switch",children:"Nintendo Switch"}),(0,a.jsx)("option",{value:"PC",children:"PC"}),(0,a.jsx)("option",{value:"PlayStation 3",children:"PlayStation 3"}),(0,a.jsx)("option",{value:"PlayStation 4",children:"PlayStation 4"}),(0,a.jsx)("option",{value:"PlayStation 5",children:"PlayStation 5"}),(0,a.jsx)("option",{value:"PlayStation Now",children:"PlayStation Now"}),(0,a.jsx)("option",{value:"Wii U",children:"Wii U"}),(0,a.jsx)("option",{value:"Xbox 360",children:"Xbox 360"}),(0,a.jsx)("option",{value:"Xbox One",children:"Xbox One"}),(0,a.jsx)("option",{value:"Xbox Series X/S",children:"Xbox Series X/S"})]},"popular_platforms")),p.sort((e,a)=>e.localeCompare(a,void 0,{sensitivity:"base"})),(0,a.jsxs)("select",{"aria-label":"Platform",value:c,name:n,autoComplete:"off",className:(0,s.default)("form_select",r||"back_form"),disabled:_,onChange:e,children:[(0,a.jsx)("option",{value:"",children:d}),g,!1===u&&(0,a.jsx)("optgroup",{label:"All Platforms",children:p.map(e=>(0,a.jsx)("option",{value:e,children:e},`all_${e}`))},"all_platforms")]})}])},17176,(e,a,s)=>{"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},10432,(e,a,s)=>{"use strict";var t=e.r(17176);function l(){}function i(){}i.resetWarningCache=l,a.exports=function(){function e(e,a,s,l,i,r){if(r!==t){var n=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function a(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,elementType:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:i,resetWarningCache:l};return s.PropTypes=s,s}},91567,(e,a,s)=>{a.exports=e.r(10432)()},45007,e=>{e.v({timestamp:"UserGameDetail-module__TZe8wG__timestamp",user_game_detail:"UserGameDetail-module__TZe8wG__user_game_detail",user_game_main:"UserGameDetail-module__TZe8wG__user_game_main",youtube_video:"UserGameDetail-module__TZe8wG__youtube_video"})},48040,e=>{"use strict";var a=e.i(91398),s=e.i(91788),t=e.i(78166),l=e.i(45007);e.s(["default",0,function({game:e,memberGamesId:i,playstyle:r,reviewScale:n,currentUser:d,currentUserHome:c}){let o,u,m,_,h,x,p,[g,j]=(0,s.useState)(e||{}),[f,b]=(0,s.useState)("none");if((0,s.useEffect)(()=>{async function a({memberGamesId:e,playstyle:a}){let s=await fetch(`/api/user/game_detail/${e}/${a}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await s.json();if(!s.ok)throw Error(t.message||"Something went wrong!");j(t)}!e?.id&&i&&a({memberGamesId:i,playstyle:r})},[]),!g.id)return null;let{comp_all:k,comp_main:N,comp_main_notes:y,comp_plus:v,comp_plus_notes:S,comp_100:C,comp_100_notes:w,comp_speed:G,comp_speed_notes:L,comp_speed100:P,comp_speed100_notes:$,date_start:T,date_complete:F,date_updated:A,date_added:q,invested_co:D,invested_mp:O,invested_pro:I,list_backlog:U,list_comp:R,list_custom2:Q,list_custom3:E,list_custom:M,list_playing:B,list_replay:W,list_retired:X,play_count:J,play_notes:H,play_storefront:V,play_video:Z,retired_notes:K,review_notes:Y,review_score:z,review_score_g:ee}=g,ea=g[`${r}_g`]||null,es=(0,t.daysToBeat)({start:T,complete:F});if(1===B||1===U||1===W||1===M||1===Q||1===E){let e,s,i;I>0?e=(0,a.jsx)("h5",{children:"Progress"}):(ea>0||k>0)&&(e=(0,a.jsx)("h5",{children:"Time to Beat"})),I>0&&(s=(0,t.secondsToString)(I,"hms")+" / "),ea>0?i=(0,a.jsx)("strong",{children:(0,t.secondsToString)(ea,"hms")}):k>0&&(i=(0,a.jsx)("strong",{style:{color:"#707070"},children:(0,t.secondsToString)(k,"hms")})),o=(0,a.jsxs)("div",{children:[e,(0,a.jsx)("div",{className:l.default.user_game_main,children:s||i?(0,a.jsxs)("span",{className:"back_light",children:[s,i]}):null})]})}let et="";return(N>0||y&&""!==y)&&(u=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Main Story"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:N>0&&(0,a.jsx)(a.Fragment,{children:(0,t.secondsToString)(N,"hms")})})}),y&&""!==y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Notes"})," ",(0,a.jsx)("div",{className:l.default.user_game_main,children:y})]})]})),(v>0||S&&""!==S)&&(m=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Main+Extras"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:v>0&&(0,a.jsx)(a.Fragment,{children:(0,t.secondsToString)(v,"hms")})})}),S&&""!==S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Notes"})," ",(0,a.jsx)("div",{className:l.default.user_game_main,children:S})]})]})),(C>0||w&&""!==w)&&(_=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Completionist"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:C>0&&(0,a.jsx)(a.Fragment,{children:(0,t.secondsToString)(C,"hms")})})}),w&&""!==w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Notes"})," ",(0,a.jsx)("div",{className:l.default.user_game_main,children:w})]})]})),(G>0||L&&""!==L)&&(h=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Speedrun"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:G>0&&(0,a.jsx)(a.Fragment,{children:(0,t.secondsToString)(G,"hms")})})}),L&&""!==L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Notes"})," ",(0,a.jsx)("div",{className:l.default.user_game_main,children:L})]})]})),(P>0||$&&""!==$)&&(x=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"100% Speedrun"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:P>0&&(0,a.jsx)(a.Fragment,{children:(0,t.secondsToString)(P,"hms")})})}),$&&""!==$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Notes"})," ",(0,a.jsx)("div",{className:l.default.user_game_main,children:$})]})]})),et=(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"back_blue",children:"Single-Player"}),(0,a.jsx)("h5",{children:"Playthrough"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{children:J>1?"Replay":"First"})}),T&&"0000-00-00"!==T&&""!==T&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Started"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{children:(0,t.dateConvert)(T)})})]})}),1===R&&F&&"0000-00-00"!==F&&""!==F&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Completion"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{className:"text_blue",children:(0,t.dateConvert)(F)})})]})}),1===R&&es>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Days Taken"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{children:.1===es?"Same Day":es})})]})}),u,m,_,h,x]}),(D>0||O>0)&&(p=(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"back_pink",children:"Multi-Player"}),D>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Co-Op"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:(0,t.secondsToString)(D,"hms")})})]}),O>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{children:"Vs."}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("span",{className:"back_light",children:(0,t.secondsToString)(O,"hms")})})]})]})),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"100%",style:{display:"table-cell"},className:"user_null",children:(0,a.jsxs)("div",{className:l.default.user_game_detail,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Lists"}),(0,a.jsxs)("div",{className:l.default.user_game_main,children:[1===B&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_green",children:"Playing"})," "]}),1===U&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_blue",children:"Backlog"})," "]}),1===W&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_blue",children:"Replay"})," "]}),1===M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_teal",children:c&&void 0!==d.set_customtab&&""!==d.set_customtab?d?.set_customtab:"Custom List"})," "]}),1===Q&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_teal",children:c&&void 0!==d.set_customtab2&&""!==d.set_customtab2?d?.set_customtab2:"Custom List 2"})," "]}),1===E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_teal",children:c&&void 0!==d.set_customtab3&&""!==d.set_customtab3?d?.set_customtab3:"Custom List 3"})," "]}),1===R&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_purple",children:"Completed"})," "]}),1===X&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"back_red",children:"Retired"})," "]})]})]}),o,1===X&&K&&""!==K&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h5",{className:"text_red",children:"Retired Notes"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:K})]}),et,p,(0,a.jsx)("h4",{className:"back_darkish",children:"General"}),V&&""!==V.trim()&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Storefront"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{children:V})})]}),H&&""!==H.trim()&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Personal Notes"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{children:H})})]}),(z>0||ee>0)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Rated"}),(0,a.jsxs)("div",{className:l.default.user_game_main,children:[z>0&&(0,a.jsx)("p",{children:`User: ${(0,t.displayRating)({rating:z,userScale:n||d?.set_review_scale})}`}),ee>0&&(0,a.jsx)("p",{children:`Global: ${(0,t.displayRating)({rating:ee,roundNearest:!1,userScale:n||d?.set_review_scale})}`})]})]}),Y&&""!==Y.trim()&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Review"}),(0,a.jsxs)("div",{className:l.default.youtube_video,children:[(0,a.jsx)("br",{className:"desktop_hide"}),(0,t.bbParse)({msg:Y,allowedTags:["quote","spoiler","b","i","u","s"]})]})]}),"0000-00-00 00:00:00"!==A&&""!==A&&A>q&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Updated"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{className:l.default.timestamp,onMouseOver:()=>b("inline-block"),onMouseOut:()=>b("none"),children:"0000-00-00 00:00:00"!==A&&"inline-block"===f?`${A} UTC`:(0,t.timeAgo)(A)})})]}),"0000-00-00 00:00:00"!==q&&""!==q&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Added"}),(0,a.jsx)("div",{className:l.default.user_game_main,children:(0,a.jsx)("p",{className:l.default.timestamp,onMouseOver:()=>b("inline-block"),onMouseOut:()=>b("none"),children:"0000-00-00 00:00:00"!==q&&"inline-block"===f?`${q} UTC`:(0,t.timeAgo)(q)})})]}),Z&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Playthrough Video"}),(0,a.jsx)("div",{className:l.default.youtube_video,children:(0,a.jsx)("iframe",{style:{maxWidth:"100%",width:"640px",height:"360px"},src:`https://www.youtube.com/embed/${Z}?rel=0`,frameBorder:"0",allowFullScreen:!0})})]})]})})})}])},32110,e=>{e.v({action_button:"GameQuickAdd-module__LLDqGa__action_button",active:"GameQuickAdd-module__LLDqGa__active",collection_field:"GameQuickAdd-module__LLDqGa__collection_field",collection_header:"GameQuickAdd-module__LLDqGa__collection_header",collection_new:"GameQuickAdd-module__LLDqGa__collection_new",collection_note:"GameQuickAdd-module__LLDqGa__collection_note",completed:"GameQuickAdd-module__LLDqGa__completed",content_break:"GameQuickAdd-module__LLDqGa__content_break",detailed:"GameQuickAdd-module__LLDqGa__detailed",forced_tabs:"GameQuickAdd-module__LLDqGa__forced_tabs",game_options:"GameQuickAdd-module__LLDqGa__game_options",holder:"GameQuickAdd-module__LLDqGa__holder",mobile_hidden:"GameQuickAdd-module__LLDqGa__mobile_hidden",mobile_tab:"GameQuickAdd-module__LLDqGa__mobile_tab",mobile_tabs:"GameQuickAdd-module__LLDqGa__mobile_tabs",my_games_header:"GameQuickAdd-module__LLDqGa__my_games_header",num:"GameQuickAdd-module__LLDqGa__num",profile_quick_add:"GameQuickAdd-module__LLDqGa__profile_quick_add",quick_add:"GameQuickAdd-module__LLDqGa__quick_add",side_header:"GameQuickAdd-module__LLDqGa__side_header",tab_count:"GameQuickAdd-module__LLDqGa__tab_count",tab_rounded:"GameQuickAdd-module__LLDqGa__tab_rounded",user_details:"GameQuickAdd-module__LLDqGa__user_details"})},43228,e=>{"use strict";e.i(50461);var a=e.i(91398),s=e.i(81117),t=e.i(91788),l=e.i(78166),i=e.i(76326),r=e.i(99106),n=e.i(2950),d=e.i(48040),c=e.i(41158),o=e.i(32110),u=e.i(72043);let m=function({game:e,onUpdateCount:l}){let{currentUser:r}=(0,s.useCurrentUser)(),[n,d]=(0,t.useState)(!1),[m,_]=(0,t.useState)(!0),[h,x]=(0,t.useState)(null),[p,g]=(0,t.useState)({lists:[]}),[j,f]=(0,t.useState)(0),[b,k]=(0,t.useState)(!1),[N,y]=(0,t.useState)(""),[v,S]=(0,t.useState)(""),[C,w]=(0,t.useState)([]),G=async({gameId:e,userId:a})=>{let s=await fetch(`/api/game/${e}/user/${a}/quickGather`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"collections"})}),t=await s.json();if(s.ok)t.count>=0&&(0===t.count&&k(!0),g(t),l&&l(t?.withIn?.length||0),t?.lists?.[0]?.list_id&&(f(Number(t.lists[0].list_id)),w(t.withIn.filter(e=>Number(e.list_id)===Number(t?.lists?.[0]?.list_id)))),_(!1));else throw Error(t.message||"Failed to change post status!")};(0,t.useEffect)(()=>{e?.game_id>0&&r?.user_id&&G({gameId:e.game_id,userId:r?.user_id})},[e.game_id,r?.user_id]);let L=async()=>{if(!1===n){if(0===j&&0===N.trim().length)return void alert("You must enter a collection name.");d(!0),0===Number(j)&&_(!0);let a=await fetch(`/api/game/${e.game_id}/user/${r?.user_id}/actionAddCollection`,{method:"POST",body:JSON.stringify({game:e,quickAdd:{userId:r?.user_id,userName:r?.user_name,listId:Number(j),listName:N,listNote:v,listType:"user"}}),headers:{"Content-Type":"application/json"}}),s=await a.json();s.error?x(s.error):s.message&&(x(),G({gameId:e.game_id,userId:r?.user_id}),k(!1),y(""),S(""),(0,i.trackEvent)({eventName:"user_quickadd",params:{type:"collection",game_id:e?.game_id}})),d(!1)}};return m?(0,a.jsx)("div",{className:"loading_bar"}):(0,a.jsxs)("div",{className:`in back_secondary ${o.default.tab_rounded}`,style:{marginBottom:"0"},children:[(0,a.jsx)("h4",{className:(0,u.default)(o.default.side_header,o.default.collection_header,"text_orange","back_clear","center"),children:"Collections"}),(0,a.jsxs)("section",{children:[b?(0,a.jsx)("input",{className:(0,u.default)(o.default.collection_field,"form_text","back_dark"),type:"text",placeholder:"New Collection Name...",maxLength:80,value:N,onChange:e=>y(e.target.value)}):(0,a.jsx)("select",{className:(0,u.default)(o.default.collection_field,"form_select","back_dark"),onChange:e=>{x(),f(Number(e.target.value)),w(p?.withIn.filter(a=>Number(a.list_id)===Number(e.target.value)))},value:Number(j),children:p?.lists.map(e=>(0,a.jsx)("option",{value:e.list_id,children:e.list_name},e.list_id))}),(0===C.length||b)&&(0,a.jsx)("textarea",{className:(0,u.default)(o.default.collection_field,"form_text","back_dark"),placeholder:"Item Note",value:v,onChange:e=>S(e.target.value),maxLength:255}),C?.[0]?.note&&!1===b&&(0,a.jsx)("section",{className:"left",style:{margin:"5px 0"},children:(0,a.jsx)("p",{className:(0,u.default)(o.default.collection_note,"global_padding back_dark shadow_box"),style:{border:"1px solid #2b7ab9"},children:C?.[0]?.note})}),h&&(0,a.jsx)("div",{className:"back_red center shadow_box",children:h})]}),b?(0,a.jsx)("button",{className:(0,u.default)("form_button","back_red"),style:{float:"left",marginRight:"10px",display:p?.count===0?"none":null},onClick:()=>{x(),f(p?.lists?.[0]?.list_id),w(p?.withIn.filter(e=>Number(e.list_id)===Number(p?.lists?.[0]?.list_id))),k(!1)},children:"Cancel"}):(0,a.jsx)("button",{className:(0,u.default)("form_button","form_blue","secondary"),style:{float:"left",marginRight:"10px"},onClick:()=>{x(),f(0),k(!0)},children:"New"}),(0,a.jsx)("section",{className:"right",children:0===C.length||b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:(0,u.default)(o.default.collection_new,"text_grey"),children:["In ",p?.withIn.length," List",p?.withIn.length>1?"s":""]}),(0,a.jsx)("button",{className:(0,u.default)("form_button","form_blue","primary"),onClick:()=>L(),children:"Add"})]}):!1===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.default,{href:`/user/${r.user_name}/lists/${C?.[0]?.list_id}`,className:"text_blueish",children:"View Collection"}),(0,a.jsx)("button",{className:(0,u.default)("form_button","back_blue","center"),style:{marginLeft:"10px",cursor:"no-drop"},children:"âœ”"})]})})]})};e.s(["default",0,function({game:e,isPreloaded:_=!1,userStats:h,showToggle:x=!0,isExpanded:p=!1,categoryGap:g=!0,tabbedDisplay:j=!1}){let{currentUser:f}=(0,s.useCurrentUser)(),[b,k]=(0,t.useState)(p),[N,y]=(0,t.useState)(!0),[v,S]=(0,t.useState)(!1),[C,w]=(0,t.useState)(null),[G,L]=(0,t.useState)("games"),[P,$]=(0,t.useState)(0),[T,F]=(0,t.useState)(h),[A,q]=(0,t.useState)(),[D,O]=(0,t.useState)(""),[I,U]=(0,t.useState)(""),R=e?.game_type!==""&&e?.game_type!==null&&e?.game_type!=="delay"&&e?.game_type!=="omit",Q=A?.length||0,E=async({gameId:e,userId:a})=>{let s=await fetch(`/api/game/${e}/user/${a}/quickGather`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"games"})}),t=await s.json();if(s.ok)t?.stats?F(t.stats):F(),t?.table?.length>0?q(t.table):q(),y(!1);else throw Error(t.message||"Failed to change post status!")};(0,t.useEffect)(()=>{e?.game_id>0&&f?.user_id&&!1===_&&E({gameId:e.game_id,userId:f?.user_id})},[e.game_id,f?.user_id]);let M=async({type:a})=>{if(!1===v){S(!0);let s=await fetch(`/api/game/${e.game_id}/user/${f?.user_id}/actionAdd`,{method:"POST",body:JSON.stringify({game:e,quickAdd:{userId:f?.user_id,custom:f?.set_customtab,custom2:f?.set_customtab2,custom3:f?.set_customtab3,platform:D,storefront:I,type:a}}),headers:{"Content-Type":"application/json"}}),t=await s.json();t.error?w(t.error):(w(),E({gameId:e.game_id,userId:f?.user_id}),(0,i.trackEvent)({eventName:"user_quickadd",params:{type:a,game_id:e?.game_id}})),S(!1)}};function B({gameTableRow:e,currentUser:s}){let[i,r]=(0,t.useState)(),[n,u]=(0,t.useState)(`text_${(0,l.getHtmlClassForGame)(e)}`),m=`text_${(0,l.getHtmlClassForGame)(e,!1)}`,{game_id:_,platform:h,id:x,custom_title:p,list_playing:g,list_backlog:j,list_replay:f,list_custom:b,list_custom2:k,list_custom3:N,list_comp:y,list_retired:v}=e,S=async({id:e})=>{"text_green"===n?u(m):u("text_green");let a=await fetch(`/api/game/${_}/user/${s.user_id}/actionPlaying`,{method:"POST",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/json"}}),t=await a.json();if(a.ok)E({gameId:_,userId:s?.user_id});else throw Error(t.message||"Failed to change post status!")},C=async({id:e})=>{if(!0===confirm(`Are you sure you want to delete ${p}${h?` on ${h}`:""}?`)){let a=await fetch(`/api/game/${_}/user/${s.user_id}/actionDelete`,{method:"POST",body:JSON.stringify({id:e}),headers:{"Content-Type":"application/json"}}),t=await a.json();if(a.ok)E({gameId:_,userId:s?.user_id});else throw Error(t.message||"Failed to change post status!")}};return(0,a.jsxs)("tbody",{className:"spreadsheet",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:n,children:(0,a.jsx)("strong",{children:h||"No Platform"})})}),(0,a.jsxs)("td",{children:[(0,a.jsx)("img",{title:"Show Details",alt:"Show Details",src:"https://howlongtobeat.com/img/icon_expand.png",className:o.default.action_button,onClick:()=>i===x?r():r(x)}),1===g&&0===j&&0===f&&0===b&&0===k&&0===N&&0===y&&0===v?null:(0,a.jsx)("img",{alt:"Toggle Playing",onClick:()=>S({id:x}),className:o.default.action_button,src:"https://howlongtobeat.com/img/icon_play.png"}),(0,a.jsx)(c.default,{href:`/submit/edit/${x}`,title:"Edit",children:(0,a.jsx)("img",{alt:"Edit",src:"https://howlongtobeat.com/img/icon_edit.png"})}),(0,a.jsx)("img",{alt:"Delete",onClick:()=>C({id:x}),className:o.default.action_button,src:"https://howlongtobeat.com/img/icon_delete.png"})]})]}),i===x&&(0,a.jsx)(d.default,{memberGamesId:x,playstyle:s.set_playstyle,currentUser:s,currentUserHome:!0})]})}return(0,a.jsxs)(a.Fragment,{children:[!0===x&&(0,a.jsxs)("div",{className:(0,u.default)(o.default.user_details),children:[f?.user_id>0?!1===b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"right",style:{cursor:"pointer"},onClick:()=>{!0===_&&E({gameId:e.game_id,userId:f?.user_id}),k(!0)},children:"Add to Profile"}),(0,a.jsxs)("div",{className:o.default.holder,children:[T?.user_playing>0&&(0,a.jsx)("strong",{className:"back_green",children:"Playing"}),T?.user_backlog>0&&(0,a.jsx)("strong",{className:"back_blue",children:"Backlog"}),T?.user_replays>0&&(0,a.jsx)("strong",{className:"back_blueish",children:"Replay"}),T?.user_custom>0&&(0,a.jsx)("strong",{className:"back_teal",children:f?.set_customtab?f.set_customtab:"Custom"}),T?.user_custom2>0&&(0,a.jsx)("strong",{className:"back_teal",children:f?.set_customtab2?f.set_customtab2:"Custom2"}),T?.user_custom3>0&&(0,a.jsx)("strong",{className:"back_teal",children:f?.set_customtab3?f.set_customtab3:"Custom3"}),T?.user_comp>0&&(0,a.jsx)("strong",{className:"back_purple",children:"Completed"}),T?.user_retired>0&&(0,a.jsx)("strong",{className:"back_red",children:"Retired"})]})]}):(0,a.jsx)("span",{className:"right",style:{cursor:"pointer"},onClick:()=>k(!1),children:"Close Options"}):(0,a.jsx)("span",{className:"right",children:(0,a.jsx)(c.default,{className:"text_white",href:"/login",children:"Add to Profile"})}),(0,a.jsx)("div",{className:"clear"})]}),(!0===b||!0===p)&&(N?(0,a.jsx)("div",{className:"loading_bar"}):(0,a.jsxs)("div",{className:(0,u.default)({[o.default.forced_tabs]:j&&R}),children:[R&&(0,a.jsxs)("div",{className:o.default.mobile_tabs,children:[(0,a.jsxs)("div",{className:(0,u.default)(o.default.mobile_tab,"games"===G?"back_secondary text_orange":"back_dark"),onClick:()=>L("games"),children:["My Games",Q>0&&(0,a.jsx)("span",{className:o.default.tab_count,children:Q})]}),(0,a.jsxs)("div",{className:(0,u.default)(o.default.mobile_tab,"collection"===G?"back_secondary text_orange":"back_dark"),onClick:()=>L("collection"),children:["Collections",P>0&&(0,a.jsx)("span",{className:o.default.tab_count,children:P})]})]}),(0,a.jsxs)("div",{className:(0,u.default)(`in back_secondary ${o.default.tab_rounded}`,{[o.default.mobile_hidden]:R&&"games"!==G}),children:[(0,a.jsx)("h4",{className:(0,u.default)(o.default.side_header,o.default.my_games_header,"text_orange","back_clear","center"),children:"My Games"}),(0,a.jsxs)("div",{className:o.default.quick_add,children:[(0,a.jsx)(r.default,{name:"quickadd_platform",addonList:e.profile_platform?.split(", "),hideBonusPlatforms:!1,className:"back_dark",defaultLabel:"Platform...",value:D,onChange:e=>{O(e.target.value)}}),(0,a.jsx)(n.default,{name:"quickadd_storefront",className:"back_dark",defaultLabel:"Storefront...",value:I,onChange:e=>{U(e.target.value)}}),(0,a.jsxs)("a",{className:(0,u.default)(o.default.game_options,"back_dark","text_white"),title:"Add to Playing",onClick:()=>{M({game:e,type:"playing"})},children:[(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_playing>0?"back_green":"back_darkish"),children:T?.user_playing??0}),"Playing"]}),(0,a.jsxs)("a",{className:(0,u.default)(o.default.game_options,"back_dark","text_white"),title:"Add to Backlog",onClick:()=>{M({game:e,type:"backlog"})},children:[(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_backlog>0?"back_blue":"back_darkish"),children:T?.user_backlog??0}),"Backlog"]}),(0,a.jsxs)("a",{className:(0,u.default)(o.default.game_options,"back_dark","text_white"),title:"Add to Replay",onClick:()=>{M({game:e,type:"replay"})},children:[(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_replays>0?"back_blueish":"back_darkish"),children:T?.user_replays??0}),"Replay"]}),f?.set_customtab?(0,a.jsxs)("a",{className:(0,u.default)(o.default.game_options,"back_dark","text_white"),title:`Add to ${f?.set_customtab}`,onClick:()=>{M({game:e,type:"custom"})},children:[(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_custom>0?"back_teal":"back_darkish"),children:T?.user_custom??0}),f?.set_customtab]}):null,f?.set_customtab2?(0,a.jsxs)("a",{className:(0,u.default)(o.default.game_options,"back_dark","text_white"),title:`Add to ${f?.set_customtab2}`,onClick:()=>{M({game:e,type:"custom2"})},children:[(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_custom2>0?"back_teal":"back_darkish"),children:T?.user_custom2??0}),f?.set_customtab2]}):null,f?.set_customtab3?(0,a.jsxs)("a",{className:(0,u.default)(o.default.game_options,"back_dark","text_white"),title:`Add to ${f?.set_customtab3}`,onClick:()=>{M({game:e,type:"custom3"})},children:[(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_custom3>0?"back_teal":"back_darkish"),children:T?.user_custom3??0}),f?.set_customtab3]}):null,(0,a.jsxs)("div",{className:(0,u.default)(o.default.game_options,"back_dark",o.default.completed),children:[(0,a.jsx)("a",{className:(0,u.default)("text_white",o.default.completed),title:"Add to Completions",onClick:()=>{M({game:e,type:"comp"})},children:"Completed"}),(0,a.jsx)("span",{className:(0,u.default)(o.default.num,T?.user_comp>0?"back_purple":"back_darkish"),style:{color:"#FFFFFF",float:"right"},children:T?.user_comp??0}),(0,a.jsx)("span",{className:(0,u.default)(o.default.detailed,"back_darkish"),children:(0,a.jsx)(c.default,{href:`/submit/game/${e.game_id}?${D?`platform=${encodeURIComponent(D)}&`:""}${I?`storefront=${encodeURIComponent(I)}&`:""}completed=1`,title:"Add to Detail Completions",className:"text_white",children:"Detailed"})})]}),C?(0,a.jsx)("div",{className:"text_red center",children:C}):null,(0,a.jsx)("div",{className:"clear"}),A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(function({userTable:e,currentUser:s}){return(0,a.jsx)("table",{className:(0,u.default)(o.default.profile_quick_add,"back_dark"),children:e.map(e=>(0,a.jsx)(B,{gameTableRow:e,currentUser:s},e.id))})},{userTable:A,currentUser:f}),(0,a.jsx)("div",{className:"clear"})]}):null]})]}),R&&(0,a.jsxs)("div",{className:(0,u.default)({[o.default.mobile_hidden]:"collection"!==G}),children:[g&&(0,a.jsx)("div",{className:(0,u.default)("content_break",o.default.content_break)}),(0,a.jsx)(m,{game:e,onUpdateCount:$})]})]})),(0,a.jsx)("div",{className:"clear"})]})}],43228)}]);